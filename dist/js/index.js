"use strict";define(["jquery","handle","swiper","bscroll","common","commons","text!bannerH","text!bighotH","text!zbtj","text!girllove","text!free","text!beautiful","text!uploading","text!bj-list"],function(a,t,n,o,e,i,l,s,c,r,d,u,g,p){var h=null;a.ajax({async:!1,url:"/home",dataType:"json",success:function(t){h=t,console.log(h)}}),e(l,h.items[0].data,".banner"),new n(".banner",{autoplay:{delay:2e3},loop:!0}),e(s,h.items[1],".bighot"),t.registerHelper("iflength",function(t,a){var n=t.splice(0,5);return n.map(function(t,a){t.id=a+1}),a.fn(n)}),t.registerHelper("firstlength",function(t,a){return a.fn(t[0])}),e(c,h.items[2],".recommend"),e(r,h.items[3],".girllove"),e(r,h.items[4],".boylove"),e(d,h.items[5],".free"),e(u,h.items[6],".beautiful");var f=new o(".bookcity",{scrollbar:!0,probeType:2,click:!0}),m="释放加载...",b="上拉刷新...",v="下拉刷新...",j="释放刷新...",x=1;f.on("scroll",function(){3<x?a(".loading").attr("data-cont","没有更多数据"):this.y<this.maxScrollY-100?a(".loading").attr("data-cont",m):a(".loading").attr("data-cont",b),70<this.y?a(".toploading").attr("data-up",j):a(".toploading").attr("data-up",v)}),f.on("scrollEnd",function(){a(".loading").attr("data-cont",b),a(".toploading").attr("data-up",v)});f.on("touchEnd",function(){a(".loading").attr("data-cont")===m&&(a.ajax({url:"/home/page?pagename="+x,dataType:"json",success:function(t){i(g,t,".uploading"),f.refresh()}}),3<++x&&a(".loading").attr("data-cont","没有更多数据")),a(".toploading").attr("data-up")===j&&setTimeout(function(){location.reload()},600)});var y=new n(".bigswiper",{on:{slideChangeTransitionStart:function(){var t=this.activeIndex;a("header p span").eq(t).addClass("active").siblings().removeClass("active")}}});a("header p span").on("click",function(){var t=a(this).index();a("header p span").eq(t).addClass("active").siblings().removeClass("active"),y.slideTo(t,500,!1)});var C=0;a(".bj-change").on("click",function(){++C%2==1?(a(".bj-change i").addClass("icon-gongzuo").removeClass("icon-gengduo-2"),a(".bj-list a").addClass("one-change")):(a(".bj-change i").addClass("icon-gengduo-2").removeClass("icon-gongzuo"),a(".bj-list a").removeClass("one-change"))});var k=null;a.ajax({async:!1,url:"/home/bookjia",dataType:"json",success:function(t){k=t,console.log(t)}}),e(p,k,".bj-list"),a(".find  p").on("click",function(){location.href="http://localhost:8089/server/sousuo.html"}),a("header .iconfont.icon-wode").on("click",function(){location.href="http://localhost:8089/login/login.html"})});